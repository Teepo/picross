"use strict";(self["webpackChunkpicross"]=self["webpackChunkpicross"]||[]).push([[923],{980:function(e,t,i){i.r(t),i.d(t,{default:function(){return h}});var s=i(3396),a=i(7139);const l=e=>((0,s.dD)("data-v-3f493b12"),e=e(),(0,s.Cn)(),e),r=l((()=>(0,s._)("strong",{class:"text-center font-weight-bold d-block"},"La partie va bientôt commencer ...",-1))),n={class:"font-weight-bold"};function o(e,t,i,l,o,d){const c=(0,s.up)("v-container"),u=(0,s.up)("v-checkbox-btn"),p=(0,s.up)("v-icon"),y=(0,s.up)("v-row"),h=(0,s.up)("v-card-text"),m=(0,s.up)("v-card-item"),f=(0,s.up)("v-card"),w=(0,s.up)("v-responsive");return(0,s.wg)(),(0,s.j4)(c,{class:"fill-height"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"d-flex align-center fill-height"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[r])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.players,(e=>((0,s.wg)(),(0,s.j4)(c,{key:e.id},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{theme:e.isReady?"is-ready":""},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"justify-space-between align-center"},{default:(0,s.w5)((()=>[(0,s._)("strong",n,(0,a.zw)(e.login),1),this.player&&this.player.id==e.id?((0,s.wg)(),(0,s.j4)(u,{key:0,onClick:d.setPlayerReadyHandler,"model-value":e.isReady,label:"Je suis prêt(e)"},null,8,["onClick","model-value"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[e.isReady?((0,s.wg)(),(0,s.j4)(p,{key:0,icon:"mdi-check",color:"green-lighten-1"})):((0,s.wg)(),(0,s.j4)(p,{key:1,icon:"mdi-close",color:"red-lighten-1"}))],64))])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["theme"])])),_:2},1024)))),128))])),_:1})])),_:1})}i(7658);var d=i(9195),c=i(762),u={data(){return{player:null,players:[]}},async mounted(){this.id=sessionStorage.getItem("id"),this.id||this.$router.push({name:"multi-player-home"}),this.player=await(0,c.RC)(this.id),this.player||this.cleanSessionAndGoBackToMultiplayerHome(),(0,c.hw)((e=>{const{player:t}=e;this.players||(this.players=[]),this.players.push(t)})),(0,c.R0)((e=>{const{player:t}=e;if(this.player.id===t.id)return this.cleanSessionAndGoBackToMultiplayerHome();this.players=this.players.filter((e=>e.id!==t.id))})),(0,c.sb)((e=>{const{players:t}=e;this.players=t})),(0,c.DU)((async e=>{const{id:t,type:i,senderId:s,views:a}=e;this.player.id!==s&&(a&&(0,d.T)(a)&&a.includes(this.player.id)||(await(0,c.cp)(t,this.player.id),"start"===i&&this.$router.push({name:"multi-player-game"})))}))},methods:{setPlayerReadyHandler(){this.player.isReady=!this.player.isReady,(0,c._d)(this.player.id,this.player.isReady)},cleanSessionAndGoBackToMultiplayerHome(){sessionStorage.clear(),this.$router.push({name:"multi-player-home"})}}},p=i(89);const y=(0,p.Z)(u,[["render",o],["__scopeId","data-v-3f493b12"]]);var h=y},9195:function(e,t,i){function s(e){return"function"===typeof e[Symbol.iterator]}i.d(t,{T:function(){return s}})}}]);
//# sourceMappingURL=lobby.be84e9cd.js.map