{"version":3,"file":"js/views/multi-player-game.c2d84f37.js","mappings":"wOACyBA,SAAM,WACvBC,EAAAA,EAAAA,IAAoFC,EAAA,C,MAA3E,oBAAgBC,QAAO,KAAOH,OAASI,OAAM,KAAOJ,OAAOK,c,uFAY5E,GAEIC,WAAa,CAAEC,QAAOA,EAAAA,GAEtBC,OAEI,MAAO,CACHR,OAAS,KAEjB,EAEAS,gBAEIC,KAAKC,GAAKC,eAAeC,QAAQ,MAE5BH,KAAKC,IAKVD,KAAKV,aAAec,EAAAA,EAAAA,IAAUJ,KAAKC,KAEnCI,EAAAA,EAAAA,KAAaN,UAET,MAAM,GAAEE,EAAE,KAAEK,EAAI,SAAEC,EAAQ,MAAEC,GAAUC,EAElCT,KAAKV,OAAOW,KAAOM,IAInBC,IAASE,EAAAA,EAAAA,GAAWF,IAAUA,EAAMG,SAASX,KAAKV,OAAOW,YAIvDW,EAAAA,EAAAA,IAAeX,EAAID,KAAKV,OAAOW,IAExB,oBAATK,GACAN,KAAKa,QAAQC,KAAK,CAAEC,KAAM,WAC9B,KAtBAf,KAAKa,QAAQC,KAAK,CAAEC,KAAM,qBAwBlC,G,QCjDJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,uBCFO,SAASP,EAAWQ,GACvB,MAA0C,oBAA5BA,EAAOC,OAAOC,SAChC,C","sources":["webpack://picross/./src/views/Multiplayer/Game.vue","webpack://picross/./src/views/Multiplayer/Game.vue?f746","webpack://picross/./src/utils/array.js"],"sourcesContent":["<template>\r\n    <template v-if=\"this.player\">\r\n        <Picross is-multiplayer :_player=\"this.player\" :_board=\"this.player.boardToClear\" />\r\n    </template>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { isIterable } from './../../utils/array'\r\n\r\nimport { getPlayer, listenEvents, setEventAsView } from './../../database/firebase/index.js';\r\n\r\nimport Picross from './../../components/Picross';\r\n\r\nexport default {\r\n    \r\n    components : { Picross },\r\n\r\n    data() {\r\n\r\n        return {\r\n            player : null\r\n        }\r\n    },\r\n\r\n    async mounted () {\r\n\r\n        this.id = sessionStorage.getItem('id');\r\n\r\n        if (!this.id) {\r\n            this.$router.push({ name: 'multi-player-home' });\r\n            return;\r\n        }\r\n        \r\n        this.player = await getPlayer(this.id);\r\n\r\n        listenEvents(async event => {\r\n\r\n            const { id, type, senderId, views } = event;\r\n\r\n            if (this.player.id === senderId) {\r\n                return;\r\n            }\r\n\r\n            if (views && isIterable(views) && views.includes(this.player.id)) {\r\n                return;\r\n            }\r\n\r\n            await setEventAsView(id, this.player.id);\r\n\r\n            if (type === 'return_to_lobby') {\r\n                this.$router.push({ name: 'lobby' });\r\n            }\r\n        });\r\n    },\r\n}\r\n\r\n</script>","import { render } from \"./Game.vue?vue&type=template&id=0c9812b7\"\nimport script from \"./Game.vue?vue&type=script&lang=js\"\nexport * from \"./Game.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/anthony/App/picross/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/**\n * @param {Any} object\n *\n * @returns {Boolean}\n */\nexport function isIterable(object) {\n    return typeof object[Symbol.iterator] === 'function';\n}"],"names":["player","_createBlock","_component_Picross","_player","_board","boardToClear","components","Picross","data","async","this","id","sessionStorage","getItem","getPlayer","listenEvents","type","senderId","views","event","isIterable","includes","setEventAsView","$router","push","name","__exports__","render","object","Symbol","iterator"],"sourceRoot":""}