{"version":3,"file":"js/views/admin.0e8a0d91.js","mappings":"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","sources":["webpack://picross/./src/views/Admin.vue","webpack://picross/./src/views/Admin.vue?98f8"],"sourcesContent":["<template>\r\n\r\n    <v-container class=\"fill-height\">\r\n        <v-responsive class=\"d-flex align-center fill-height\">\r\n\r\n            <v-container>\r\n                <v-btn class=\"bg-primary\" @click=\"start\">START GAME</v-btn>\r\n                <v-btn class=\"bg-primary ml-5\" @click=\"reset\">RESET GAME</v-btn>\r\n                <v-btn class=\"bg-primary ml-5\" @click=\"return_to_lobby\">RETURN TO LOBBY</v-btn>\r\n            </v-container>\r\n\r\n            <v-container>\r\n                <v-btn class=\"bg-primary\" @click=\"cleanPlayers\">CLEAN PLAYERS</v-btn>\r\n            </v-container>\r\n\r\n            <div class=\"text-h6 mb-1\">\r\n                PLAYERS\r\n            </div>\r\n            <v-table class=\"text-left\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"text-left\">\r\n                            ID\r\n                        </th>\r\n                        \r\n                        <th class=\"text-left\">\r\n                            LOGIN\r\n                        </th>\r\n\r\n                        <th class=\"text-left\">\r\n                            LIFE\r\n                        </th>\r\n\r\n                        <th class=\"text-left\">\r\n                            IS READY\r\n                        </th>\r\n\r\n                        <th class=\"text-left\">\r\n                            Actions\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr v-for=\"player in players\" :key=\"player.id\">\r\n                        <td class=\"text-left\">{{ player.id }}</td>\r\n                        <td>{{ player.login }}</td>\r\n                        <td>{{ player.life }}</td>\r\n                        <td>{{ player.isReady }}</td>\r\n                        <td>\r\n                            <v-btn icon=\"mdi-delete\" @click=\"this.delete(player.id)\"></v-btn>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </v-table>\r\n\r\n            <v-container>\r\n                <v-btn class=\"bg-primary\" @click=\"cleanEvents\">CLEAN EVENTS</v-btn>\r\n            </v-container>\r\n\r\n            <div class=\"text-h6 mb-1\">\r\n                EVENTS\r\n            </div>\r\n            <v-table class=\"text-left\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"text-left\">\r\n                            ID\r\n                        </th>\r\n                        <th class=\"text-left\">\r\n                            TYPE\r\n                        </th>\r\n\r\n                        <th class=\"text-left\">\r\n                            SENDER ID\r\n                        </th>\r\n\r\n                        <th class=\"text-left\">\r\n                            VIEWS\r\n                        </th>\r\n\r\n                        <th class=\"text-left\">\r\n                            DATA\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr\r\n                        v-for=\"event in events\"\r\n                        :key=\"event.id\"\r\n                        ref=\"events\"\r\n                    >\r\n                        <td class=\"text-left\">{{ event.id }}</td>\r\n                        <td>{{ event.type }}</td>\r\n                        <td>{{ event.senderId }}</td>\r\n                        <td>{{ event.views }}</td>\r\n                        <td>{{ event.data }}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </v-table>\r\n        </v-responsive>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {\r\n    deletePlayer, deletePlayers,\r\n    onValuePlayers, listenEvents, deleteEvents, sendEvent,\r\n    giveBoardToClearToPlayers, resetPlayersBoard\r\n}\r\nfrom './../database/firebase/index.js';\r\n\r\nexport default {\r\n\r\n    data() {\r\n\r\n        return {\r\n            players : [],\r\n            events  : []\r\n        }\r\n    },\r\n\r\n    async mounted() {\r\n\r\n        onValuePlayers(data => {\r\n\r\n            const { players } = data;\r\n\r\n            this.players = players ?? [];\r\n        })\r\n\r\n        listenEvents(event => {\r\n\r\n            if (!this.events) {\r\n                this.events = [];\r\n            }\r\n\r\n            this.events.push(event)\r\n        })\r\n    },\r\n\r\n    methods : {\r\n\r\n        async start() {\r\n\r\n            await giveBoardToClearToPlayers(this.players.map(player => player.id));\r\n\r\n            sendEvent({\r\n                type     : 'start',\r\n                senderId : 'admin'\r\n            });\r\n        },\r\n\r\n        async reset() {\r\n\r\n            await resetPlayersBoard(this.players.map(player => player.id));\r\n\r\n            sendEvent({\r\n                type     : 'reset',\r\n                senderId : 'admin'\r\n            });\r\n        },\r\n\r\n        async return_to_lobby() {\r\n\r\n            sendEvent({\r\n                type     : 'return_to_lobby',\r\n                senderId : 'admin'\r\n            });\r\n        },\r\n        \r\n        delete(id) {\r\n            \r\n            deletePlayer(id);\r\n\r\n            this.players = this.players.filter(p => {\r\n                return p.id !== id;\r\n            }) ?? [];\r\n        },\r\n        \r\n        cleanPlayers() {\r\n            \r\n            deletePlayers();\r\n\r\n            this.players = [];\r\n        },\r\n\r\n        cleanEvents() {\r\n\r\n            deleteEvents();\r\n\r\n            this.events = [];\r\n        },\r\n    }\r\n}\r\n</script>","import { render } from \"./Admin.vue?vue&type=template&id=fcbbc956\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/anthony/App/picross/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createBlock","_component_v_container","_createVNode","_component_v_responsive","_component_v_btn","onClick","$options","start","reset","return_to_lobby","cleanPlayers","_hoisted_1","_component_v_table","_hoisted_2","_createElementBlock","_Fragment","_renderList","$data","players","player","key","id","_hoisted_3","_toDisplayString","login","life","isReady","icon","$event","delete","cleanEvents","_hoisted_4","_hoisted_5","events","event","ref","_hoisted_6","type","senderId","views","data","async","onValuePlayers","this","listenEvents","push","methods","giveBoardToClearToPlayers","map","sendEvent","resetPlayersBoard","deletePlayer","filter","p","deletePlayers","deleteEvents","__exports__","render"],"sourceRoot":""}